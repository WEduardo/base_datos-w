// CREACION DE LA TABLA

CREATE TABLE EMPLEADOS22 (ID INTEGER, NOMBRE VARCHAR2(120), SUELDO FLOAT, FECHA DATE);
--CREACION DE TABLA CON DEFAULT
CREATE TABLE EMPLEADOS22(ID INTEGER, NOMBRE VARCHAR2(120), SUELDO FLOAT, FECHA  DATE DEFAULT SYSDATE NOT NULL);

//MODO DE INSERTAR MANUAL

INSERT INTO EMPLEADOS22 VALUES(3,'EDUARDO',1000,SYSDATE);
INSERT INTO EMPLEADOS22 VALUES(4,'DONOVAN',2000,SYSDATE);
INSERT INTO EMPLEADOS22 VALUES(5,'ALEJANDRO',3000,SYSDATE);
INSERT INTO EMPLEADOS22 VALUES(6,'PEPE',4000,SYSDATE);
INSERT INTO EMPLEADOS22 VALUES(7,'TOÃ‘O',5000,SYSDATE);

//CREACION DE SECUENCIA

CREATE SEQUENCE SEC_EMPLEADOS22
START WITH 1
INCREMENT BY 1NOMAXVALUE;

//CREACION DE PROCEDIMIENTO DE ALMACENADO

CREATE OR REPLACE PROCEDURE INGRESO_FECHA(MY_ID OUT INTEGER, MY_NOMBRE IN VARCHAR2, MY_SUELDO IN FLOAT, MY_FECHA IN DATE)
AS
  BEGIN

  SELECT SEC_EMPLEADOS22.NEXTVAL INTO  MY_ID FROM DUAL;
  INSERT INTO EMPLEADOS22(ID, NOMBRE, SUELDO, FECHA) VALUES(MY_ID, MY_NOMBRE, MY_SUELDO, MY_FECHA);
END;
/

//ALMACENADO AUTOMATICO

DECLARE
ID_EMPLEADO integer;
BEGIN
INGRESO_FECHA(ID_EMPLEADO,'Wolf',2000,SYSDATE);
END


//CURSOR PARA ACTUALIZAR DE MANERA AUTOMATICA


DECLARE
CURSOR CURSOR_ACTUALIZAR_SUELDO IS SELECT * FROM EMPLEADOS22 FOR UPDATE;
BEGIN
FOR FECHA IN CURSOR_ACTUALIZAR_SUELDO LOOP
  IF TO_CHAR(FECHA.FECHA, 'DD') =01 THEN
UPDATE EMPLEADOS22 SET SUELDO=FECHA.SUELDO+2000 WHERE CURRENT OF CURSOR_ACTUALIZAR_SUELDO;
  ELSE
  IF TO_CHAR(FECHA.FECHA, 'DD') =15 THEN
UPDATE EMPLEADOS22 SET SUELDO=FECHA.SUELDO+2000 WHERE CURRENT OF CURSOR_ACTUALIZAR_SUELDO;
  ELSE
UPDATE EMPLEADOS22 SET SUELDO=FECHA.SUELDO WHERE CURRENT OF CURSOR_ACTUALIZAR_SUELDO;

END IF;
END IF;
END LOOP;
END;
/

SELECT * FROM EMPLEADOS22; 
